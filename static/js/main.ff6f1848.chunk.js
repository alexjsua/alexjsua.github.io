(this.webpackJsonpyalantis=this.webpackJsonpyalantis||[]).push([[0],{15:function(t,e,n){},16:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(8),o=n.n(c),s=n(1),i=n(2),u=n(5),h=n(4),l=n(6),f=n(3),p=n.n(f),m=function(){function t(){var e=this;Object(s.a)(this,t),this._apiBase="https://yalantis-react-school.herokuapp.com/api",this.sortMonth=[],this.getResource=function(t){var n;return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.a.awrap(fetch("".concat(e._apiBase).concat(t)));case 2:if((n=a.sent).ok){a.next=5;break}throw new Error("Could not fetch ".concat(t)+", received ".concat(n.status));case 5:return a.next=7,p.a.awrap(n.json());case 7:return a.abrupt("return",a.sent);case 8:case"end":return a.stop()}}))},this.getAllUsers=function(){var t;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.a.awrap(e.getResource("/task0/users"));case 2:return t=n.sent,n.abrupt("return",t.map(e.transformUser));case 4:case"end":return n.stop()}}))},this.transformUser=function(t){return{id:t.id,firstname:t.firstName,lastname:t.lastName,month:e.extractMonth(t)}}}return Object(i.a)(t,[{key:"extractMonth",value:function(t){return new Date(t.dob).getMonth()}}]),t}(),d=(n(15),function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(r)))).userService=new m,n.state={data:null,isLoaded:!1},n}return Object(l.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.userService.getAllUsers().then((function(e){return t.sortMonth(e)})).then((function(e){t.setState({data:e,isLoaded:!0})}))}},{key:"sortMonth",value:function(t){for(var e=[],n=0;n<12;n++)e.push([]);return t.forEach((function(t){e[t.month].push("".concat(t.firstname," ").concat(t.lastname))})),e}},{key:"renderMonth",value:function(t){return t.map((function(t){return t.map((function(t){return r.a.createElement("span",{key:t},t)}))}))}},{key:"renderItems",value:function(t){return t.map((function(t,e){var n=t.length;return t.length>11&&(n=11),r.a.createElement("div",{key:e,className:"month-group item-".concat(e," tooltip length-").concat(n)},new Date(2019,e,10).toLocaleString("en",{month:"long"}),r.a.createElement("div",{className:"tooltiptext"},t))}))}},{key:"render",value:function(){var t=this.state,e=t.isLoaded,n=t.data;return e?this.renderItems(this.renderMonth(n)):"Wait please, data is loading..."}}]),e}(a.Component)),v=(n(16),function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-container"},r.a.createElement(d,null))}}]),e}(a.Component));o.a.render(r.a.createElement(v,null),document.getElementById("root"))},9:function(t,e,n){t.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.ff6f1848.chunk.js.map