{"version":3,"sources":["services/user-service.js","components/month-list/index.js","components/month-list/month-list.js","components/app/index.js","components/app/app.js","index.js"],"names":["SwapiService","_apiBase","sortMonth","getResource","url","a","async","fetch","res","ok","Error","status","json","getAllUsers","map","transformUser","user","id","firstname","firstName","lastname","lastName","month","extractMonth","Date","dob","getMonth","MonthList","userService","UserService","state","data","isLoaded","this","then","setState","users","result","i","push","forEach","item","key","arr","colorStatus","length","className","toLocaleString","renderItems","renderMonth","Component","App","ReactDOM","render","document","getElementById"],"mappings":"6OAAqBA,E,4DACnBC,SAAW,kD,KACXC,UAAY,G,KAEZC,YAAc,SAAOC,GAAP,eAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACME,MAAM,GAAD,OAAI,EAAKN,UAAT,OAAoBG,KAD/B,WACNI,EADM,QAGHC,GAHG,sBAIJ,IAAIC,MAAM,0BAAmBN,GAAnB,qBACAI,EAAIG,SALV,yBAAAN,EAAA,MAOCG,EAAII,QAPL,8E,KAUdC,YAAc,0BAAAR,EAAAC,OAAA,kEAAAD,EAAA,MACM,EAAKF,YAAL,iBADN,cACNK,EADM,yBAELA,EAAIM,IAAI,EAAKC,gBAFR,sC,KASdA,cAAgB,SAACC,GACf,MAAO,CACLC,GAAID,EAAKC,GACTC,UAAWF,EAAKG,UAChBC,SAAUJ,EAAKK,SACfC,MAAO,EAAKC,aAAaP,K,yDAThBA,GACX,OAAO,IAAIQ,KAAKR,EAAKS,KAAKC,e,KClBfC,G,iNCKbC,YAAc,IAAIC,E,EAElBC,MAAQ,CACNC,KAAM,KACNC,UAAU,G,mFAGS,IAAD,OAClBC,KAAKL,YACFf,cACAqB,MAAK,SAAC1B,GAAD,OAAQ,EAAKN,UAAUM,MAC5B0B,MAAK,SAAC1B,GACL,EAAK2B,SAAS,CACVJ,KAAKvB,EACLwB,UAAU,S,gCAKVI,GAER,IADA,IAAIC,EAAS,GACLC,EAAG,EAAGA,EAAI,GAAIA,IACpBD,EAAOE,KAAK,IAKd,OAHAH,EAAMI,SAAQ,SAACC,GACbJ,EAAOI,EAAKnB,OAAOiB,KAAnB,UAA2BE,EAAKvB,UAAhC,YAA6CuB,EAAKrB,cAE7CiB,I,kCAGGD,GACV,OAAOA,EAAMtB,KAAI,SAACE,GAChB,OACEA,EAAKF,KAAI,SAACQ,GACR,OAAO,0BAAMoB,IAAKpB,GAAQA,W,kCAMtBqB,GACV,OAAOA,EAAI7B,KAAI,SAACQ,EAAMgB,GACpB,IAAIM,EAActB,EAAMuB,OAIxB,OAHIvB,EAAMuB,OAAS,KACjBD,EAAc,IAGd,yBAAKF,IAAKJ,EAAGQ,UAAS,2BAAsBR,EAAtB,2BAA0CM,IAC7D,IAAIpB,KAAK,KAAKc,EAAE,IAAIS,eAAe,KAAM,CAAEzB,MAAO,SACnD,yBAAKwB,UAAU,eAAexB,S,+BAM5B,IAAD,EACoBW,KAAKH,MAAxBE,EADD,EACCA,SAAUD,EADX,EACWA,KAClB,OACIC,EAAWC,KAAKe,YAAYf,KAAKgB,YAAYlB,IAAS,sC,GA5DvBmB,cCHxBC,G,uLCKX,OACE,yBAAKL,UAAU,kBACb,kBAAC,EAAD,W,GAJyBI,cCDjCE,IAASC,OAAO,kBAAC,EAAD,MACdC,SAASC,eAAe,U","file":"static/js/main.ff6f1848.chunk.js","sourcesContent":["export default class SwapiService {\r\n  _apiBase = 'https://yalantis-react-school.herokuapp.com/api';\r\n  sortMonth = [];\r\n\r\n  getResource = async (url) => {\r\n    const res = await fetch(`${this._apiBase}${url}`);\r\n\r\n    if (!res.ok) {\r\n      throw new Error(`Could not fetch ${url}` +\r\n        `, received ${res.status}`)\r\n    }\r\n    return await res.json();\r\n  };\r\n\r\n  getAllUsers = async () => {\r\n    const res = await this.getResource(`/task0/users`);\r\n    return res.map(this.transformUser);\r\n  };\r\n\r\n  extractMonth(user) {\r\n    return new Date(user.dob).getMonth();\r\n  }\r\n\r\n  transformUser = (user) => {\r\n    return {\r\n      id: user.id,\r\n      firstname: user.firstName,\r\n      lastname: user.lastName,\r\n      month: this.extractMonth(user)\r\n    }\r\n  };\r\n}","import MonthList from './month-list';\r\n\r\nexport default MonthList;\r\n","import React, { Component } from 'react';\r\nimport UserService from '../../services/user-service'\r\n\r\nimport './month-list.css';\r\n\r\nexport default class MonthList extends Component {\r\n\r\n  userService = new UserService();\r\n\r\n  state = {\r\n    data: null,\r\n    isLoaded: false\r\n  };  \r\n\r\n  componentDidMount() {\r\n    this.userService\r\n      .getAllUsers()\r\n      .then((res) =>this.sortMonth(res))\r\n      .then((res) => {\r\n        this.setState({\r\n            data:res,\r\n            isLoaded: true\r\n          });        \r\n      });\r\n  }\r\n\r\n  sortMonth(users){\r\n    let result = [];\r\n    for(let i =0; i < 12; i++) {\r\n      result.push([]);\r\n    }\r\n    users.forEach((item) => {\r\n      result[item.month].push(`${item.firstname} ${item.lastname}`)\r\n    });    \r\n    return result;\r\n  }\r\n\r\n  renderMonth(users){\r\n    return users.map((user) => {      \r\n      return (\r\n        user.map((month) => {\r\n          return <span key={month}>{month}</span>\r\n        })\r\n      );\r\n    })\r\n  }  \r\n\r\n  renderItems(arr) {\r\n    return arr.map((month,i) => {\r\n      let colorStatus = month.length;\r\n      if (month.length > 11){\r\n        colorStatus = 11\r\n      }\r\n      return (\r\n        <div key={i} className={`month-group item-${i} tooltip length-${colorStatus}`}>\r\n          {new Date(2019,i,10).toLocaleString('en', { month: 'long' })}\r\n          <div className=\"tooltiptext\">{month}</div>          \r\n        </div>\r\n      );\r\n    });\r\n  }  \r\n\r\n  render() {    \r\n    const { isLoaded, data } = this.state;    \r\n    return (          \r\n        isLoaded ? this.renderItems(this.renderMonth(data)) : \"Wait please, data is loading...\"\r\n    );\r\n  }\r\n}","import App from './app';\r\n\r\nexport default App;\r\n","import React, { Component } from 'react';\r\nimport MonthList from '../month-list';\r\n\r\nimport './app.css';\r\n\r\nexport default class App extends Component {  \r\n  render() {    \r\n    return (\r\n      <div className=\"main-container\">\r\n        <MonthList />\r\n      </div>\r\n    );\r\n  }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\n\nReactDOM.render(<App />,\n  document.getElementById('root'));\n"],"sourceRoot":""}